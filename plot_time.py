import matplotlib.pyplot as plt
import random
import numpy as np


YS_100_pt=[9.890796739999999,10.029220718,8.885486232000002,9.130634571999998,8.161158569999998,8.415339605,10.645581442000008,9.56534691200001,8.393043208999998,9.91951468500001]
YS_100_t=[19.921057210012805,20.244345537998015,17.922702661016956,18.796271839994006,16.437530059018172,16.9212410649925,21.410107339994283,19.289028115017572,16.907230729004368,19.93421232799301]
RR_100_pt=[0.018751272999999458,0.017990715999999907,0.018280810000000258,0.017830654999997364,0.01667574200000388,0.017420897999997464,0.019200202999996918,0.018585260999998354,0.017198390999993762,0.019143318000004683]
RR_100_t =[0.030757461994653568,0.02599407799425535,0.038285098009509966,0.03783488800399937,0.028673720982624218,0.029424283013213426,0.0352031140064355,0.030589779024012387,0.03320389601867646,0.04714802099624649]
SP_100_pt=[0.002603999999999995, 0.002558999999999978, 0.002623000000000042, 0.0024889999999999635, 0.0023609999999999465, 0.0024250000000000105, 0.002693999999999974, 0.0025960000000000427, 0.0025050000000000905, 0.0026450000000000085]
SP_100_t =[0.0026043330000000142, 0.0025618330000000133, 0.002623083000000026, 0.0024899999999999922, 0.002361791000000002, 0.002427750000000062, 0.002696375000000084, 0.002596374999999984, 0.002505292000000048, 0.002644874999999991]

YS_200_pt=[33.481296131,33.934947019,34.14550773399999,34.19424417399999,34.136186595,30.840027632999977,34.07995638599999,32.47778983500001,31.483281106999982,32.25525587499999]
YS_200_t=[33.7088075359934,34.13710170300328,34.36640175298089,34.4058805849927,34.33752922399435,31.02795294500538,34.2845562340226,33.10576537900488,31.702045668993378,32.44316015599179]
RR_200_pt=[0.03291179800000066,0.03349239700000339,0.03435274999999649,0.03361911400000395,0.03376969600000734,0.03124200600001359,0.03343911700000035,0.03243871099999751,0.03306795099996407,0.03270172399999183]
RR_200_t =[0.032920832018135116,0.033499001001473516,0.03436041800887324,0.03362889101845212,0.03377889099647291,0.031250749016180634,0.03344744100468233,0.038535744010005146,0.03307733801193535,0.032709630992030725]
SP_200_pt=[0.004779000000000033, 0.0048679999999999835, 0.005069999999999908, 0.004893000000000036, 0.0048239999999999394, 0.0046439999999999815, 0.004813999999999985, 0.00466500000000003, 0.005151999999999934, 0.004878999999999967]
SP_200_t =[0.004779791000000033, 0.004870041999999963, 0.005072707999999926, 0.004909665999999979, 0.004826167000000048, 0.004644957999999977, 0.004813334000000058, 0.004667583000000031, 0.005152916999999979, 0.00488520800000003]

YS_300_pt=[64.60519767,69.07200632200001,67.95946017099999,65.66864975099998,69.37785862499999,65.06540175800001,65.00403631099994,65.566840254,66.21690299,62.06575188099998]
YS_300_t=[65.07602364601917,69.52040988800582,68.80364086700138,66.49889528899803,69.79647632801789,65.47983294801088,65.88035575899994,66.45809729001485,66.62987827000325,62.442192509013694]
RR_300_pt=[0.04532514000000276,0.04516997700000047,0.046183496000026025,0.043983814999990045,0.04467107200002829,0.04433757699996477,0.043923993000021255,0.04320225699996172,0.04366976500000419,0.044400956000004044]
RR_300_t =[0.045334467984503135,0.04518290198757313,0.0461956080107484,0.043996135995257646,0.044685085013043135,0.04954934000852518,0.04393194502335973,0.043208985996898264,0.04368134000105783,0.044412768009351566]
SP_300_pt=[0.006773000000000029, 0.006672999999999929, 0.006821999999999995, 0.0066709999999999825, 0.006577999999999973, 0.006589999999999985, 0.006720999999999977, 0.006492000000000053, 0.006628999999999996, 0.00676600000000005]
SP_300_t =[0.006773291999999986, 0.0066724590000000195, 0.006828166000000024, 0.006676499999999974, 0.006579624999999978, 0.006590291999999942, 0.006721624999999953, 0.006492166999999993, 0.00663487500000004, 0.006772207999999891]

YS_400_pt=[98.972304812,105.636710136,103.56621587799998,102.828362567,99.53421393600001,106.03322231599998,102.21577445699995,98.61118041500004,101.69284276100007,101.13939129100004]
YS_400_t=[99.67989487701561,106.26275291899219,104.19320559100015,103.4426313659933,100.54815417900681,106.69053885497851,102.82962377101649,99.20793062698795,102.3010493410111,101.96696843998507,]
RR_400_pt=[0.05497292399999765,0.05594714100001852,0.056626313999970534,0.05483626699992783,0.05500699800006714,0.05655759599994781,0.05514565900000434,0.053012238000064826,0.054791463999890766,0.05523539699993307]
RR_400_t =[0.054985624010441825,0.05595935299061239,0.05664024598081596,0.0548491420049686,0.05502039298880845,0.0565696970152203,0.055156888003693894,0.05302283400669694,0.05480655000428669,0.05524880901793949]
SP_400_pt=[0.008353999999999973, 0.008392000000000066, 0.00877400000000006, 0.008446999999999982, 0.008417000000000008, 0.008575, 0.00860099999999997, 0.008264000000000049, 0.008432999999999913, 0.008418000000000037]
SP_400_t =[0.008354583000000027, 0.00839791599999995, 0.00878595900000001, 0.00845549999999995, 0.008421000000000012, 0.008581957999999945, 0.008609333000000108, 0.008274208000000005, 0.008439749999999968, 0.008422290999999804]

YS_500_pt=[141.122213653,147.60196486999996,144.59148203799998,141.13481783600002,139.44120013399993,151.50097001799986,148.8659193860001,136.68552722000004,143.42034456499982,144.71643382899993]
YS_500_t=[142.4150576989923,148.55351761600468,145.48621471200022,142.08710213701124,140.94009315400035,202.24417818000074,167.6353313800064,138.030034557014,144.31633170798887,145.58879400001024]
RR_500_pt=[0.06642905200001792,0.06668656300001885,0.06640068599995175,0.06575452799995674,0.06524950900006843,0.0672270860000026,0.0672225889998117,0.06446249500004342,0.06664346399998067,0.06641917199999625]
RR_500_t =[0.066444584983401,0.06670540702180006,0.06641978901461698,0.0657701040036045,0.0653457100270316,0.13286603600136004,0.06723763400805183,0.0644788490026258,0.06665762900956906,0.06643949702265672]
SP_500_pt=[0.010012000000000021, 0.010081000000000007, 0.010226999999999986, 0.010054000000000007, 0.009898999999999991, 0.01007900000000006, 0.010225999999999846, 0.009923999999999822, 0.010110999999999981, 0.010037000000000074]
SP_500_t =[0.010012791999999937, 0.01008124999999993, 0.010227708000000058, 0.01005729199999994, 0.00990358399999991, 0.01008087499999999, 0.010230458000000109, 0.009924750000000149, 0.010130250000000007, 0.010038709000000035]


 
colors_list = ["#A1C9F4", "#FFB482", "#8DE5A1", "#FF9F9B", "#D0BBFF",
            "#DEBB9B", "#FAB0E4", "#CFCFCF", "#FFFEA3", "#B9F2F0"]
colors=colors_list[:3]


##Plot processor time
data = [YS_100_pt, YS_200_pt, YS_300_pt, YS_400_pt,YS_500_pt]
fig = plt.figure(figsize =(6, 10))
bp = plt.boxplot(data, medianprops =dict(color = 'C0', linewidth = 1.5))
plt.plot([1,2,3,4,5],[sum(YS_100_pt)/len(YS_500_pt),sum(YS_200_pt)/len(YS_500_pt),sum(YS_300_pt)/len(YS_500_pt),sum(YS_400_pt)/len(YS_500_pt),sum(YS_500_pt)/len(YS_500_pt)],color=colors[0], marker = '*', mec = 'C0', mfc = 'C0', label='Yankee Swap')
plt.plot([1,2,3,4,5],[sum(RR_100_pt)/len(RR_500_pt),sum(RR_200_pt)/len(RR_500_pt),sum(RR_300_pt)/len(RR_500_pt),sum(RR_400_pt)/len(RR_500_pt),sum(RR_500_pt)/len(RR_500_pt)],color=colors[1], marker = '*', mec = 'C1', mfc = 'C1', label='Round Robin')
plt.plot([1,2,3,4,5],[sum(SP_100_pt)/len(SP_500_pt),sum(SP_200_pt)/len(SP_500_pt),sum(SP_300_pt)/len(SP_500_pt),sum(SP_400_pt)/len(SP_500_pt),sum(SP_500_pt)/len(SP_500_pt)],color=colors[2], marker = '*', mec = 'C2', mfc = 'C2', label='SPIRE')

plt.xlabel('Number of students (N)', fontsize=12)
plt.ylabel('Seconds', fontsize=12)
plt.xticks([1,2,3,4,5],[100,200,300,400,500])
plt.title('Processor running time', fontsize=14)
plt.legend(prop ={'size': 12})
plt.savefig('./Figures/running_time_process.png')
plt.close()

plt.plot([1,2,3,4,5],[sum(RR_100_pt)/len(RR_500_pt),sum(RR_200_pt)/len(RR_500_pt),sum(RR_300_pt)/len(RR_500_pt),sum(RR_400_pt)/len(RR_500_pt),sum(RR_500_pt)/len(RR_500_pt)],color=colors[1], marker = '*', mec = 'C1', mfc = 'C1', label='Round Robin')
plt.plot([1,2,3,4,5],[sum(SP_100_pt)/len(SP_500_pt),sum(SP_200_pt)/len(SP_500_pt),sum(SP_300_pt)/len(SP_500_pt),sum(SP_400_pt)/len(SP_500_pt),sum(SP_500_pt)/len(SP_500_pt)],color=colors[2], marker = '*', mec = 'C2', mfc = 'C2', label='SPIRE')
plt.xlabel('Number of students (N)', fontsize=12)
plt.ylabel('Seconds', fontsize=12)
plt.xticks([1,2,3,4,5],[100,200,300,400,500])
plt.title('Processor running time', fontsize=14)
plt.legend(prop ={'size': 12})
plt.savefig('./Figures/running_time_process_RR_SPIRE.png')
plt.close()



##Plot Wall clock time !!
data = [YS_100_t, YS_200_t, YS_300_t, YS_400_t,YS_500_t]
fig = plt.figure(figsize =(6, 10))
bp = plt.boxplot(data, medianprops =dict(color = 'C0', linewidth = 1.5))
plt.plot([1,2,3,4,5],[sum(YS_100_t)/len(YS_500_t),sum(YS_200_t)/len(YS_500_t),sum(YS_300_t)/len(YS_500_t),sum(YS_400_t)/len(YS_500_t),sum(YS_500_t)/len(YS_500_t)],color=colors[0], marker = '*', mec = 'C0', mfc = 'C0', label='Yankee Swap')
plt.plot([1,2,3,4,5],[sum(RR_100_t)/len(RR_500_t),sum(RR_200_t)/len(RR_500_t),sum(RR_300_t)/len(RR_500_t),sum(RR_400_t)/len(RR_500_t),sum(RR_500_t)/len(RR_500_t)],color=colors[1], marker = '*', mec = 'C1', mfc = 'C1', label='Round Robin')
plt.plot([1,2,3,4,5],[sum(SP_100_t)/len(SP_500_t),sum(SP_200_t)/len(SP_500_t),sum(SP_300_t)/len(SP_500_t),sum(SP_400_t)/len(SP_500_t),sum(SP_500_t)/len(SP_500_t)],color=colors[2], marker = '*', mec = 'C2', mfc = 'C2', label='SPIRE')

plt.xlabel('Number of students (N)', fontsize=12)
plt.ylabel('Seconds', fontsize=12)
plt.xticks([1,2,3,4,5],[100,200,300,400,500])
plt.title('Wall clock running time', fontsize=14)
plt.legend(prop ={'size': 12})
plt.savefig('./Figures/running_time.png')
plt.close()

plt.plot([1,2,3,4,5],[sum(RR_100_t)/len(RR_500_pt),sum(RR_200_t)/len(RR_500_pt),sum(RR_300_t)/len(RR_500_pt),sum(RR_400_t)/len(RR_500_t),sum(RR_500_t)/len(RR_500_t)],color=colors[1], marker = '*', mec = 'C1', mfc = 'C1', label='Round Robin')
plt.plot([1,2,3,4,5],[sum(SP_100_t)/len(SP_500_pt),sum(SP_200_t)/len(SP_500_pt),sum(SP_300_t)/len(SP_500_pt),sum(SP_400_t)/len(SP_500_t),sum(SP_500_t)/len(SP_500_t)],color=colors[2], marker = '*', mec = 'C2', mfc = 'C2', label='SPIRE')
plt.xlabel('Number of students (N)', fontsize=12)
plt.ylabel('Seconds', fontsize=12)
plt.xticks([1,2,3,4,5],[100,200,300,400,500])
plt.title('Wall clock running time', fontsize=14)
plt.legend(prop ={'size': 12})
plt.savefig('./Figures/running_time_RR_SPIRE.png')



#N=50
#[3.33851175, 3.3963196659999992, 3.2453702080000006, 3.245864749999999, 2.574891000000001, 2.848540875000001, 4.284678833000001, 3.2296645409999982, 2.6711274579999973, 3.4153117910000006]
#N=100
#[11.764275709, 11.933760084000001, 10.507792583999997, 10.820065166, 9.606153166999995, 9.977476874999994, 12.649239541, 11.460725083, 9.982148332999998, 11.924151334000001]
#N=150
#[24.11729575, 24.214347209, 22.939373832999998, 23.349053959000003, 22.266188124999985, 21.58164579199999, 23.620566166000003, 22.301198999999997, 21.099395749999985, 24.949571082999995]
#N=200
#[40.790368333, 39.557138957999996, 39.883361083, 39.859593042, 44.451855959, 36.371318417000026, 40.329943958, 37.96947766699998, 37.140225499999985, 38.147466250000036]

#N=250
#[57.108711917, 63.45911108300001, 59.028505083, 56.71589825000001, 60.719812542, 54.462543916000016, 55.65144275, 58.54911887500003, 56.35110895899993, 53.091610790999994]

#N=300
#[75.354724875, 80.89022441700001, 79.133777917, 76.497416875, 80.52049787499999, 76.08652775000007, 75.90705012499996, 76.66170458299996, 77.25184349999995, 72.24546954200002]

#N=350
#[90.745913458, 93.687137625, 60.907602457999985, 97.48891029100002, 95.63996200000003, 99.42400287500004, 94.13542216600001, 97.00636854200002, 101.06406570799993, 93.495440916]

#N=400
#[117.214373167, 122.36886433300003, 119.57204312500005, 119.75829591600001, 115.24584145799997, 124.67047662499999, 119.35917862500003, 114.62397141600013, 119.90194904200007, 117.90785704199993]

# N=[50,100,150,200,250,300,350,400]
# times=[3.2250280871999997,11.0625787876 , 23.043863666699995,39.4500749167, 57.5137864166,77.05492374589998, 92.3594826039, 119.06228507490002]
# plt.plot(N,times,color='k',marker='*')
# plt.show()